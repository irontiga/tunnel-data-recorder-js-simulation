{"id":"rhL8","dependencies":[{"name":"C:\\Users\\juser\\OneDrive\\Uni\\20S1\\ENEL200-20W\\Project - ECE design\\tunnel-data-recorder-js-simulation\\package.json","includedInParent":true,"mtime":1588117327511},{"name":"./RangeSensor.js","loc":{"line":1,"column":24},"parent":"C:\\Users\\juser\\OneDrive\\Uni\\20S1\\ENEL200-20W\\Project - ECE design\\tunnel-data-recorder-js-simulation\\src\\js\\main.js","resolved":"C:\\Users\\juser\\OneDrive\\Uni\\20S1\\ENEL200-20W\\Project - ECE design\\tunnel-data-recorder-js-simulation\\src\\js\\RangeSensor.js"},{"name":"./Button.js","loc":{"line":2,"column":19},"parent":"C:\\Users\\juser\\OneDrive\\Uni\\20S1\\ENEL200-20W\\Project - ECE design\\tunnel-data-recorder-js-simulation\\src\\js\\main.js","resolved":"C:\\Users\\juser\\OneDrive\\Uni\\20S1\\ENEL200-20W\\Project - ECE design\\tunnel-data-recorder-js-simulation\\src\\js\\Button.js"},{"name":"./Camera.js","loc":{"line":3,"column":19},"parent":"C:\\Users\\juser\\OneDrive\\Uni\\20S1\\ENEL200-20W\\Project - ECE design\\tunnel-data-recorder-js-simulation\\src\\js\\main.js","resolved":"C:\\Users\\juser\\OneDrive\\Uni\\20S1\\ENEL200-20W\\Project - ECE design\\tunnel-data-recorder-js-simulation\\src\\js\\Camera.js"},{"name":"./Display.js","loc":{"line":4,"column":20},"parent":"C:\\Users\\juser\\OneDrive\\Uni\\20S1\\ENEL200-20W\\Project - ECE design\\tunnel-data-recorder-js-simulation\\src\\js\\main.js","resolved":"C:\\Users\\juser\\OneDrive\\Uni\\20S1\\ENEL200-20W\\Project - ECE design\\tunnel-data-recorder-js-simulation\\src\\js\\Display.js"},{"name":"./Tracker.js","loc":{"line":5,"column":20},"parent":"C:\\Users\\juser\\OneDrive\\Uni\\20S1\\ENEL200-20W\\Project - ECE design\\tunnel-data-recorder-js-simulation\\src\\js\\main.js","resolved":"C:\\Users\\juser\\OneDrive\\Uni\\20S1\\ENEL200-20W\\Project - ECE design\\tunnel-data-recorder-js-simulation\\src\\js\\Tracker.js"},{"name":"./getDisplayHTML.js","loc":{"line":7,"column":27},"parent":"C:\\Users\\juser\\OneDrive\\Uni\\20S1\\ENEL200-20W\\Project - ECE design\\tunnel-data-recorder-js-simulation\\src\\js\\main.js","resolved":"C:\\Users\\juser\\OneDrive\\Uni\\20S1\\ENEL200-20W\\Project - ECE design\\tunnel-data-recorder-js-simulation\\src\\js\\getDisplayHTML.js"},{"name":"./convertRawRangeSensorData.js","loc":{"line":8,"column":30},"parent":"C:\\Users\\juser\\OneDrive\\Uni\\20S1\\ENEL200-20W\\Project - ECE design\\tunnel-data-recorder-js-simulation\\src\\js\\main.js","resolved":"C:\\Users\\juser\\OneDrive\\Uni\\20S1\\ENEL200-20W\\Project - ECE design\\tunnel-data-recorder-js-simulation\\src\\js\\convertRawRangeSensorData.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.tracker=exports.rangeSensor=exports.camera=exports.display=void 0;var e=o(require(\"./RangeSensor.js\")),r=o(require(\"./Button.js\")),t=o(require(\"./Camera.js\")),a=o(require(\"./Display.js\")),n=o(require(\"./Tracker.js\")),u=o(require(\"./getDisplayHTML.js\")),s=o(require(\"./convertRawRangeSensorData.js\"));function o(e){return e&&e.__esModule?e:{default:e}}var i=200,f=10,d=f,l=5,c=6,p=7,v=\"A0\",w=8,x=9,g=new a.default(x);exports.display=g;var j=new t.default(w);exports.camera=j;var q=new e.default(v);exports.rangeSensor=q;var k=new n.default;exports.tracker=k;var y=new r.default(l,function(){g.wake()}),m=new r.default(c,function(){k.reset()}),R=new r.default(p,function(){d=.98*(0,s.default)(q.read())}),S=function(){g.write((0,u.default)(k.total,k.ranges))};S(),k.onReset=function(){S()};var _=!1;function D(){var e=(0,s.default)(q.read());e<f?0==_&&(_=!0,j.trigger(),k.track(e),S()):_=!1,setTimeout(function(){return D()},i)}D();"},"sourceMaps":{"js":{"mappings":[{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":0}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":13}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":20}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":35}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":43}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":56}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":57}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":64}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":68}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":76}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":84}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":92}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":104}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":112}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":119}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":127}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":140}},{"source":"../src/js/main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":142}},{"source":"../src/js/main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":146}},{"source":"../src/js/main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":148}},{"source":"../src/js/main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":150}},{"source":"../src/js/main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":158}},{"source":"../src/js/main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":179}},{"source":"../src/js/main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":181}},{"source":"../src/js/main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":183}},{"source":"../src/js/main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":191}},{"source":"../src/js/main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":207}},{"source":"../src/js/main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":209}},{"source":"../src/js/main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":211}},{"source":"../src/js/main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":219}},{"source":"../src/js/main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":235}},{"source":"../src/js/main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":237}},{"source":"../src/js/main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":239}},{"source":"../src/js/main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":247}},{"source":"../src/js/main.js","original":{"line":5,"column":0},"generated":{"line":1,"column":264}},{"source":"../src/js/main.js","original":{"line":5,"column":0},"generated":{"line":1,"column":266}},{"source":"../src/js/main.js","original":{"line":5,"column":0},"generated":{"line":1,"column":268}},{"source":"../src/js/main.js","original":{"line":5,"column":0},"generated":{"line":1,"column":276}},{"source":"../src/js/main.js","original":{"line":7,"column":0},"generated":{"line":1,"column":293}},{"source":"../src/js/main.js","original":{"line":7,"column":0},"generated":{"line":1,"column":295}},{"source":"../src/js/main.js","original":{"line":7,"column":0},"generated":{"line":1,"column":297}},{"source":"../src/js/main.js","original":{"line":7,"column":0},"generated":{"line":1,"column":305}},{"source":"../src/js/main.js","original":{"line":8,"column":0},"generated":{"line":1,"column":329}},{"source":"../src/js/main.js","original":{"line":8,"column":0},"generated":{"line":1,"column":331}},{"source":"../src/js/main.js","original":{"line":8,"column":0},"generated":{"line":1,"column":333}},{"source":"../src/js/main.js","original":{"line":8,"column":0},"generated":{"line":1,"column":341}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":376}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":385}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":387}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":390}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":397}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":400}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":402}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":413}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":415}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":416}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":424}},{"source":"../src/js/main.js","original":{"line":10,"column":0},"generated":{"line":1,"column":427}},{"source":"../src/js/main.js","name":"LOOP_DELAY","original":{"line":10,"column":6},"generated":{"line":1,"column":431}},{"source":"../src/js/main.js","original":{"line":10,"column":19},"generated":{"line":1,"column":433}},{"source":"../src/js/main.js","name":"RANGE_SENSOR_BASELINE","original":{"line":12,"column":6},"generated":{"line":1,"column":437}},{"source":"../src/js/main.js","original":{"line":12,"column":30},"generated":{"line":1,"column":439}},{"source":"../src/js/main.js","name":"rangeSensorBaseline","original":{"line":13,"column":4},"generated":{"line":1,"column":442}},{"source":"../src/js/main.js","name":"RANGE_SENSOR_BASELINE","original":{"line":13,"column":26},"generated":{"line":1,"column":444}},{"source":"../src/js/main.js","name":"DISPLAY_BUTTON_PIN","original":{"line":15,"column":6},"generated":{"line":1,"column":446}},{"source":"../src/js/main.js","original":{"line":15,"column":27},"generated":{"line":1,"column":448}},{"source":"../src/js/main.js","name":"RESET_BUTTON_PIN","original":{"line":16,"column":6},"generated":{"line":1,"column":450}},{"source":"../src/js/main.js","original":{"line":16,"column":25},"generated":{"line":1,"column":452}},{"source":"../src/js/main.js","name":"CALIBRATE_BUTTON_PIN","original":{"line":17,"column":6},"generated":{"line":1,"column":454}},{"source":"../src/js/main.js","original":{"line":17,"column":29},"generated":{"line":1,"column":456}},{"source":"../src/js/main.js","name":"RANGE_SENSOR_PIN","original":{"line":19,"column":6},"generated":{"line":1,"column":458}},{"source":"../src/js/main.js","original":{"line":19,"column":25},"generated":{"line":1,"column":460}},{"source":"../src/js/main.js","name":"CAMERA_PIN","original":{"line":21,"column":6},"generated":{"line":1,"column":465}},{"source":"../src/js/main.js","original":{"line":21,"column":19},"generated":{"line":1,"column":467}},{"source":"../src/js/main.js","name":"DISPLAY_PIN","original":{"line":22,"column":6},"generated":{"line":1,"column":469}},{"source":"../src/js/main.js","original":{"line":22,"column":20},"generated":{"line":1,"column":471}},{"source":"../src/js/main.js","name":"display","original":{"line":24,"column":13},"generated":{"line":1,"column":473}},{"source":"../src/js/main.js","original":{"line":24,"column":23},"generated":{"line":1,"column":475}},{"source":"../src/js/main.js","name":"Display","original":{"line":24,"column":27},"generated":{"line":1,"column":479}},{"source":"../src/js/main.js","original":{"line":24,"column":23},"generated":{"line":1,"column":481}},{"source":"../src/js/main.js","name":"DISPLAY_PIN","original":{"line":24,"column":35},"generated":{"line":1,"column":489}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":492}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":500}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":508}},{"source":"../src/js/main.js","original":{"line":25,"column":7},"generated":{"line":1,"column":510}},{"source":"../src/js/main.js","name":"camera","original":{"line":25,"column":13},"generated":{"line":1,"column":514}},{"source":"../src/js/main.js","original":{"line":25,"column":22},"generated":{"line":1,"column":516}},{"source":"../src/js/main.js","name":"Camera","original":{"line":25,"column":26},"generated":{"line":1,"column":520}},{"source":"../src/js/main.js","original":{"line":25,"column":22},"generated":{"line":1,"column":522}},{"source":"../src/js/main.js","name":"CAMERA_PIN","original":{"line":25,"column":33},"generated":{"line":1,"column":530}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":533}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":541}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":548}},{"source":"../src/js/main.js","original":{"line":26,"column":7},"generated":{"line":1,"column":550}},{"source":"../src/js/main.js","name":"rangeSensor","original":{"line":26,"column":13},"generated":{"line":1,"column":554}},{"source":"../src/js/main.js","original":{"line":26,"column":27},"generated":{"line":1,"column":556}},{"source":"../src/js/main.js","name":"RangeSensor","original":{"line":26,"column":31},"generated":{"line":1,"column":560}},{"source":"../src/js/main.js","original":{"line":26,"column":27},"generated":{"line":1,"column":562}},{"source":"../src/js/main.js","name":"RANGE_SENSOR_PIN","original":{"line":26,"column":43},"generated":{"line":1,"column":570}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":573}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":581}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":593}},{"source":"../src/js/main.js","original":{"line":27,"column":7},"generated":{"line":1,"column":595}},{"source":"../src/js/main.js","name":"tracker","original":{"line":27,"column":13},"generated":{"line":1,"column":599}},{"source":"../src/js/main.js","original":{"line":27,"column":23},"generated":{"line":1,"column":601}},{"source":"../src/js/main.js","name":"Tracker","original":{"line":27,"column":27},"generated":{"line":1,"column":605}},{"source":"../src/js/main.js","original":{"line":27,"column":23},"generated":{"line":1,"column":607}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":615}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":623}},{"source":"../src/js/main.js","original":{"line":69,"column":4},"generated":{"line":1,"column":631}},{"source":"../src/js/main.js","original":{"line":29,"column":0},"generated":{"line":1,"column":633}},{"source":"../src/js/main.js","name":"displayButton","original":{"line":29,"column":6},"generated":{"line":1,"column":637}},{"source":"../src/js/main.js","original":{"line":29,"column":22},"generated":{"line":1,"column":639}},{"source":"../src/js/main.js","name":"Button","original":{"line":29,"column":26},"generated":{"line":1,"column":643}},{"source":"../src/js/main.js","original":{"line":29,"column":22},"generated":{"line":1,"column":645}},{"source":"../src/js/main.js","name":"DISPLAY_BUTTON_PIN","original":{"line":29,"column":33},"generated":{"line":1,"column":653}},{"source":"../src/js/main.js","original":{"line":29,"column":53},"generated":{"line":1,"column":655}},{"source":"../src/js/main.js","name":"display","original":{"line":30,"column":4},"generated":{"line":1,"column":666}},{"source":"../src/js/main.js","name":"wake","original":{"line":30,"column":12},"generated":{"line":1,"column":668}},{"source":"../src/js/main.js","name":"resetButton","original":{"line":32,"column":6},"generated":{"line":1,"column":677}},{"source":"../src/js/main.js","original":{"line":32,"column":20},"generated":{"line":1,"column":679}},{"source":"../src/js/main.js","name":"Button","original":{"line":32,"column":24},"generated":{"line":1,"column":683}},{"source":"../src/js/main.js","original":{"line":32,"column":20},"generated":{"line":1,"column":685}},{"source":"../src/js/main.js","name":"RESET_BUTTON_PIN","original":{"line":32,"column":31},"generated":{"line":1,"column":693}},{"source":"../src/js/main.js","original":{"line":32,"column":49},"generated":{"line":1,"column":695}},{"source":"../src/js/main.js","name":"tracker","original":{"line":33,"column":4},"generated":{"line":1,"column":706}},{"source":"../src/js/main.js","name":"reset","original":{"line":33,"column":12},"generated":{"line":1,"column":708}},{"source":"../src/js/main.js","name":"calibrateButton","original":{"line":35,"column":6},"generated":{"line":1,"column":718}},{"source":"../src/js/main.js","original":{"line":35,"column":24},"generated":{"line":1,"column":720}},{"source":"../src/js/main.js","name":"Button","original":{"line":35,"column":28},"generated":{"line":1,"column":724}},{"source":"../src/js/main.js","original":{"line":35,"column":24},"generated":{"line":1,"column":726}},{"source":"../src/js/main.js","name":"CALIBRATE_BUTTON_PIN","original":{"line":35,"column":35},"generated":{"line":1,"column":734}},{"source":"../src/js/main.js","original":{"line":35,"column":57},"generated":{"line":1,"column":736}},{"source":"../src/js/main.js","name":"rangeSensorBaseline","original":{"line":36,"column":4},"generated":{"line":1,"column":747}},{"source":"../src/js/main.js","original":{"line":36,"column":51},"generated":{"line":1,"column":749}},{"source":"../src/js/main.js","original":{"line":36,"column":26},"generated":{"line":1,"column":754}},{"source":"../src/js/main.js","name":"rangeSensor","original":{"line":36,"column":29},"generated":{"line":1,"column":756}},{"source":"../src/js/main.js","name":"rangeSensor","original":{"line":36,"column":29},"generated":{"line":1,"column":758}},{"source":"../src/js/main.js","name":"rangeSensor","original":{"line":36,"column":29},"generated":{"line":1,"column":767}},{"source":"../src/js/main.js","name":"read","original":{"line":36,"column":41},"generated":{"line":1,"column":769}},{"source":"../src/js/main.js","name":"updateDisplay","original":{"line":39,"column":6},"generated":{"line":1,"column":779}},{"source":"../src/js/main.js","original":{"line":39,"column":22},"generated":{"line":1,"column":781}},{"source":"../src/js/main.js","name":"display","original":{"line":40,"column":4},"generated":{"line":1,"column":792}},{"source":"../src/js/main.js","name":"write","original":{"line":40,"column":12},"generated":{"line":1,"column":794}},{"source":"../src/js/main.js","original":{"line":40,"column":18},"generated":{"line":1,"column":801}},{"source":"../src/js/main.js","name":"tracker","original":{"line":40,"column":33},"generated":{"line":1,"column":803}},{"source":"../src/js/main.js","name":"tracker","original":{"line":40,"column":33},"generated":{"line":1,"column":805}},{"source":"../src/js/main.js","name":"tracker","original":{"line":40,"column":33},"generated":{"line":1,"column":814}},{"source":"../src/js/main.js","name":"total","original":{"line":40,"column":41},"generated":{"line":1,"column":816}},{"source":"../src/js/main.js","name":"tracker","original":{"line":40,"column":48},"generated":{"line":1,"column":822}},{"source":"../src/js/main.js","name":"ranges","original":{"line":40,"column":56},"generated":{"line":1,"column":824}},{"source":"../src/js/main.js","name":"updateDisplay","original":{"line":42,"column":0},"generated":{"line":1,"column":834}},{"source":"../src/js/main.js","name":"tracker","original":{"line":44,"column":0},"generated":{"line":1,"column":838}},{"source":"../src/js/main.js","name":"onReset","original":{"line":44,"column":8},"generated":{"line":1,"column":840}},{"source":"../src/js/main.js","original":{"line":44,"column":18},"generated":{"line":1,"column":848}},{"source":"../src/js/main.js","name":"updateDisplay","original":{"line":45,"column":4},"generated":{"line":1,"column":859}},{"source":"../src/js/main.js","original":{"line":48,"column":0},"generated":{"line":1,"column":864}},{"source":"../src/js/main.js","name":"animalPresent","original":{"line":48,"column":4},"generated":{"line":1,"column":868}},{"source":"../src/js/main.js","original":{"line":48,"column":20},"generated":{"line":1,"column":871}},{"source":"../src/js/main.js","original":{"line":49,"column":0},"generated":{"line":1,"column":873}},{"source":"../src/js/main.js","name":"loop","original":{"line":49,"column":9},"generated":{"line":1,"column":882}},{"source":"../src/js/main.js","name":"range","original":{"line":50,"column":10},"generated":{"line":1,"column":886}},{"source":"../src/js/main.js","name":"range","original":{"line":50,"column":10},"generated":{"line":1,"column":890}},{"source":"../src/js/main.js","original":{"line":50,"column":18},"generated":{"line":1,"column":893}},{"source":"../src/js/main.js","name":"rangeSensor","original":{"line":50,"column":21},"generated":{"line":1,"column":895}},{"source":"../src/js/main.js","name":"rangeSensor","original":{"line":50,"column":21},"generated":{"line":1,"column":897}},{"source":"../src/js/main.js","name":"rangeSensor","original":{"line":50,"column":21},"generated":{"line":1,"column":906}},{"source":"../src/js/main.js","name":"read","original":{"line":50,"column":33},"generated":{"line":1,"column":908}},{"source":"../src/js/main.js","name":"range","original":{"line":51,"column":8},"generated":{"line":1,"column":916}},{"source":"../src/js/main.js","name":"RANGE_SENSOR_BASELINE","original":{"line":51,"column":16},"generated":{"line":1,"column":918}},{"source":"../src/js/main.js","original":{"line":52,"column":29},"generated":{"line":1,"column":920}},{"source":"../src/js/main.js","name":"animalPresent","original":{"line":52,"column":12},"generated":{"line":1,"column":923}},{"source":"../src/js/main.js","name":"animalPresent","original":{"line":53,"column":12},"generated":{"line":1,"column":927}},{"source":"../src/js/main.js","original":{"line":53,"column":28},"generated":{"line":1,"column":930}},{"source":"../src/js/main.js","name":"camera","original":{"line":55,"column":12},"generated":{"line":1,"column":932}},{"source":"../src/js/main.js","name":"trigger","original":{"line":55,"column":19},"generated":{"line":1,"column":934}},{"source":"../src/js/main.js","name":"tracker","original":{"line":56,"column":12},"generated":{"line":1,"column":944}},{"source":"../src/js/main.js","name":"track","original":{"line":56,"column":20},"generated":{"line":1,"column":946}},{"source":"../src/js/main.js","name":"range","original":{"line":56,"column":26},"generated":{"line":1,"column":952}},{"source":"../src/js/main.js","name":"updateDisplay","original":{"line":58,"column":12},"generated":{"line":1,"column":955}},{"source":"../src/js/main.js","name":"animalPresent","original":{"line":63,"column":8},"generated":{"line":1,"column":960}},{"source":"../src/js/main.js","original":{"line":63,"column":24},"generated":{"line":1,"column":963}},{"source":"../src/js/main.js","name":"setTimeout","original":{"line":66,"column":4},"generated":{"line":1,"column":965}},{"source":"../src/js/main.js","original":{"line":66,"column":15},"generated":{"line":1,"column":976}},{"source":"../src/js/main.js","name":"loop","original":{"line":66,"column":21},"generated":{"line":1,"column":987}},{"source":"../src/js/main.js","name":"loop","original":{"line":66,"column":21},"generated":{"line":1,"column":994}},{"source":"../src/js/main.js","name":"LOOP_DELAY","original":{"line":66,"column":29},"generated":{"line":1,"column":999}},{"source":"../src/js/main.js","name":"loop","original":{"line":69,"column":0},"generated":{"line":1,"column":1002}}],"sources":{"../src/js/main.js":"import RangeSensor from './RangeSensor.js'\r\nimport Button from './Button.js'\r\nimport Camera from './Camera.js'\r\nimport Display from './Display.js'\r\nimport Tracker from './Tracker.js'\r\n\r\nimport getDisplayHTML from './getDisplayHTML.js'\r\nimport { default as cs } from './convertRawRangeSensorData.js'\r\n\r\nconst LOOP_DELAY = 200 // check every 200ms\r\n\r\nconst RANGE_SENSOR_BASELINE = 10 // cm\r\nlet rangeSensorBaseline = RANGE_SENSOR_BASELINE\r\n\r\nconst DISPLAY_BUTTON_PIN = 5\r\nconst RESET_BUTTON_PIN = 6\r\nconst CALIBRATE_BUTTON_PIN = 7\r\n\r\nconst RANGE_SENSOR_PIN = 'A0'\r\n\r\nconst CAMERA_PIN = 8\r\nconst DISPLAY_PIN = 9\r\n\r\nexport const display = new Display(DISPLAY_PIN)\r\nexport const camera = new Camera(CAMERA_PIN)\r\nexport const rangeSensor = new RangeSensor(RANGE_SENSOR_PIN)\r\nexport const tracker = new Tracker()\r\n\r\nconst displayButton = new Button(DISPLAY_BUTTON_PIN, () => {\r\n    display.wake()\r\n})\r\nconst resetButton = new Button(RESET_BUTTON_PIN, () => {\r\n    tracker.reset()\r\n})\r\nconst calibrateButton = new Button(CALIBRATE_BUTTON_PIN, () => {\r\n    rangeSensorBaseline = cs(rangeSensor.read()) * 0.98\r\n})\r\n\r\nconst updateDisplay = () => {\r\n    display.write(getDisplayHTML(tracker.total, tracker.ranges))\r\n}\r\nupdateDisplay()\r\n\r\ntracker.onReset = () => {\r\n    updateDisplay()\r\n}\r\n\r\nlet animalPresent = false\r\nfunction loop () {\r\n    const range = cs(rangeSensor.read())\r\n    if (range < RANGE_SENSOR_BASELINE) {\r\n        if (animalPresent == false) {\r\n            animalPresent = true\r\n\r\n            camera.trigger()\r\n            tracker.track(range)\r\n\r\n            updateDisplay()\r\n        } else {\r\n            // Who cares, this is still the same animal and has been dealt with already.\r\n        }\r\n    } else {\r\n        animalPresent = false\r\n    }\r\n    // Check sensor all the time\r\n    setTimeout(() => loop(), LOOP_DELAY)\r\n}\r\n\r\nloop()\r\n"},"lineCount":null}},"error":null,"hash":"84166ec1e21fd5de7243d54e4124588a","cacheData":{"env":{}}}